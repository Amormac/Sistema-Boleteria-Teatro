{% extends "base.html" %}
{% block title %}Admin — Dashboard{% endblock %}

{% block content %}
<section class="section">
    <div class="container">
        <h1 class="page-title">
            <svg viewBox="0 0 24 24" width="28" height="28" fill="none" stroke="currentColor" stroke-width="2"
                stroke-linecap="round" stroke-linejoin="round" style="vertical-align: middle; margin-right: 8px;">
                <line x1="18" y1="20" x2="18" y2="10"></line>
                <line x1="12" y1="20" x2="12" y2="4"></line>
                <line x1="6" y1="20" x2="6" y2="14"></line>
            </svg>
            Panel de Administración
        </h1>

        <div class="admin-nav-cards">
            <a href="{{ url_for('admin_venues') }}" class="admin-nav-card">
                <div class="admin-nav-icon">
                    <svg viewBox="0 0 24 24" width="32" height="32" fill="none" stroke="currentColor" stroke-width="1.5"
                        stroke-linecap="round" stroke-linejoin="round">
                        <path d="M3 21h18M5 21V7l8-4 8 4v14M8 21V12a4 4 0 0 1 8 0v9"></path>
                    </svg>
                </div>
                <h3>Salas</h3>
                <p>Crear y gestionar salas</p>
            </a>
            <a href="{{ url_for('admin_events') }}" class="admin-nav-card">
                <div class="admin-nav-icon">
                    <svg viewBox="0 0 24 24" width="32" height="32" fill="none" stroke="currentColor" stroke-width="1.5"
                        stroke-linecap="round" stroke-linejoin="round">
                        <path d="M22 17H2a3 3 0 0 0 3-3V9a7 7 0 0 1 14 0v5a3 3 0 0 0 3 3zm-8.27 4a2 2 0 0 1-3.46 0">
                        </path>
                    </svg>
                </div>
                <h3>Eventos</h3>
                <p>Crear, activar y cerrar eventos</p>
            </a>
        </div>

        <h2 class="section-title" style="margin-top:2rem;">Resumen de Eventos</h2>

        {% if events %}
        <div class="table-responsive">
            <table class="table">
                <thead>
                    <tr>
                        <th>ID</th>
                        <th>Evento</th>
                        <th>Sala</th>
                        <th>Fecha</th>
                        <th>Estado</th>
                        <th>Acciones</th>
                    </tr>
                </thead>
                <tbody>
                    {% for event in events %}
                    <tr>
                        <td>{{ event.id }}</td>
                        <td>{{ event.title }}</td>
                        <td>{{ event.venue_name }}</td>
                        <td>{{ event.start_time[:16].replace('T', ' ') }}</td>
                        <td>
                            <span class="badge badge-{{ event.status|lower }}">{{ event.status }}</span>
                        </td>
                        <td>
                            <a href="{{ url_for('admin_event_sales', event_id=event.id) }}"
                                class="btn btn-sm btn-outline">
                                <svg viewBox="0 0 24 24" width="16" height="16" fill="none" stroke="currentColor"
                                    stroke-width="2" stroke-linecap="round" stroke-linejoin="round"
                                    style="vertical-align: text-bottom;">
                                    <polyline points="23 6 13.5 15.5 8.5 10.5 1 18"></polyline>
                                    <polyline points="17 6 23 6 23 12"></polyline>
                                </svg>
                                Ventas
                            </a>
                        </td>
                    </tr>
                    {% endfor %}
                </tbody>
            </table>
        </div>
        {% else %}
        <div class="empty-state">
            <p>No hay eventos creados aún.</p>
        </div>
        {% endif %}
    </div>
</section>
{% endblock %}