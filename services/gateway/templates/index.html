{% extends "base.html" %}
{% block title %}Teatro — Eventos Disponibles{% endblock %}

{% block content %}
<section class="hero">
    <div class="hero-inner">
        <h1>Bienvenido al Teatro</h1>
        <p class="hero-subtitle">Descubre los mejores eventos y compra tus entradas con selección de asientos en tiempo
            real.</p>
    </div>
</section>

<section class="section">
    <div class="container">
        <h2 class="section-title">Eventos Disponibles</h2>

        {% if events %}
        <div class="events-grid">
            {% for event in events %}
            <div class="card card-event">
                <div class="card-header-accent"></div>
                <div class="card-body">
                    <h3 class="card-title">{{ event.title }}</h3>
                    <p class="card-meta">
                        <span class="meta-icon">
                            <svg viewBox="0 0 24 24" width="16" height="16" fill="none" stroke="currentColor"
                                stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                                <path d="M21 10c0 7-9 13-9 13s-9-6-9-13a9 9 0 0 1 18 0z"></path>
                                <circle cx="12" cy="10" r="3"></circle>
                            </svg>
                        </span> {{ event.venue_name }}
                    </p>
                    <p class="card-meta">
                        <span class="meta-icon">
                            <svg viewBox="0 0 24 24" width="16" height="16" fill="none" stroke="currentColor"
                                stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                                <rect x="3" y="4" width="18" height="18" rx="2" ry="2"></rect>
                                <line x1="16" y1="2" x2="16" y2="6"></line>
                                <line x1="8" y1="2" x2="8" y2="6"></line>
                                <line x1="3" y1="10" x2="21" y2="10"></line>
                            </svg>
                        </span> {{ event.start_time[:16].replace('T', ' · ') }}
                    </p>
                    <p class="card-meta">
                        <span class="meta-icon">
                            <svg viewBox="0 0 24 24" width="16" height="16" fill="none" stroke="currentColor"
                                stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                                <path d="M19 9h-6L10 3H6L3 9h1a2 2 0 0 1 1.7 1h8.6A2 2 0 0 1 16 9h3v10H5v-4"></path>
                                <path d="M5 21v-4"></path>
                                <path d="M19 21v-4"></path>
                            </svg>
                        </span> {{ event.rows_count * event.cols_count }} asientos
                    </p>
                    <div class="card-price">${{ "%.2f"|format(event.price) }}</div>
                    <p class="card-desc">{{ event.description[:120] }}{% if event.description|length > 120 %}…{% endif
                        %}</p>
                </div>
                <div class="card-footer">
                    <a href="{{ url_for('event_detail', event_id=event.id) }}" class="btn btn-primary btn-block">
                        Ver asientos y comprar
                    </a>
                </div>
            </div>
            {% endfor %}
        </div>
        {% else %}
        <div class="empty-state">
            <div class="empty-icon">
                <svg viewBox="0 0 24 24" width="48" height="48" fill="none" stroke="currentColor" stroke-width="1.5"
                    stroke-linecap="round" stroke-linejoin="round">
                    <path d="M2 13a6 6 0 0 1 6-6 6 6 0 0 1 6 6v1a6 6 0 0 1-6 6 6 6 0 0 1-6-6v-1z"></path>
                    <circle cx="6.5" cy="11.5" r="1.5"></circle>
                    <circle cx="9.5" cy="11.5" r="1.5"></circle>
                    <path d="M14 13a6 6 0 0 1 6-6 6 6 0 0 1 6 6v1a6 6 0 0 1-6 6 6 6 0 0 1-6-6v-1z"></path>
                    <circle cx="18.5" cy="11.5" r="1.5"></circle>
                    <circle cx="21.5" cy="11.5" r="1.5"></circle>
                    <path d="M5 16a4 4 0 0 1 5.5 0"></path>
                    <path d="M17 16a4 4 0 0 1 5.5 0"></path>
                </svg>
            </div>
            <h3>No hay eventos disponibles</h3>
            <p>Pronto se publicarán nuevos eventos. ¡Vuelve más tarde!</p>
        </div>
        {% endif %}
    </div>
</section>
{% endblock %}